---
phase: 04-foundation
plan: 02
type: execute
wave: 2
depends_on:
  - "04-01"
files_modified:
  - landing/index.html
  - landing/src/App.tsx
autonomous: false
requirements:
  - SETUP-02
  - PERF-02

must_haves:
  truths:
    - "Google Fonts (Permanent Marker, Special Elite, Inter) load from Google CDN with preconnect links in index.html"
    - "Material Symbols Outlined icon font loads correctly — `<span class='material-symbols-outlined'>pedal_bike</span>` renders the icon"
    - "Font loading uses `display=swap` query param — no layout shift visible when refreshing the page"
    - "App.tsx renders sample elements that visually demonstrate the full design system: heading rotation, zine-box, paper-tear, primary color"
  artifacts:
    - path: "landing/index.html"
      provides: "Font preconnect + Google Fonts stylesheet links"
      contains: "preconnect"
    - path: "landing/src/App.tsx"
      provides: "Design system demo component showing all visual primitives"
      min_lines: 40
  key_links:
    - from: "landing/index.html"
      to: "fonts.googleapis.com"
      via: "preconnect + stylesheet link"
      pattern: "preconnect.*fonts.googleapis"
    - from: "landing/src/App.tsx"
      to: "tailwind custom classes"
      via: "className props"
      pattern: "zine-box|paper-tear|font-display|bg-primary"
---

<objective>
Add optimized font loading to the landing page and create a design system demo component for visual verification.

Purpose: Completes the foundation by wiring in Google Fonts with performance-correct preconnect tags (PERF-02) and demonstrating the design system works end-to-end through a demo App.tsx (SETUP-02 validation).
Output: `index.html` with preconnect + font links; `App.tsx` demo showing zine/punk aesthetic in action.
</objective>

<execution_context>
@./.claire/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@landing/code.html
@.planning/phases/04-foundation/04-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add font preconnect and Google Fonts links to index.html</name>
  <files>
    landing/index.html
  </files>
  <action>
    Update `landing/index.html` to add font loading exactly as in `landing/code.html` lines 7-8, but using the performance-correct pattern:

    Inside `<head>`, before any other stylesheet links, add:
    ```html
    <!-- Font performance: preconnect to Google Fonts domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Google Fonts: Permanent Marker (display), Special Elite (punk), Inter (body) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Special+Elite&family=Inter:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Material Symbols Outlined icon font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap"
      rel="stylesheet"
    />
    ```

    Also ensure the `<body>` tag has the full base classes (from Plan 01, Task 2 — but if not already added, add them now):
    ```html
    <body class="bg-background-light dark:bg-background-dark font-body text-slate-900 dark:text-slate-100 antialiased overflow-x-hidden selection:bg-primary selection:text-white">
    ```

    IMPORTANT: Two preconnect links are required — one for `fonts.googleapis.com` and one for `fonts.gstatic.com` (with `crossorigin`). This is the correct pattern for eliminating render-blocking font requests. Do NOT use a single preconnect. Do NOT use `<link rel="preload">` for the font CSS — preconnect is correct here.

    The `display=swap` query parameter is included in the Google Fonts URL (as `&display=swap`), which sets `font-display: swap` for all loaded font faces automatically.
  </action>
  <verify>
    Open `landing/index.html` and confirm:
    1. Two `<link rel="preconnect">` tags exist — one for `fonts.googleapis.com`, one for `fonts.gstatic.com` with `crossorigin`
    2. Google Fonts stylesheet URL includes `display=swap`
    3. Material Symbols Outlined link is present
    4. `<body>` tag has `font-body` and `bg-background-light` classes

    Run build check:
    ```
    cd landing && npm run build 2>&1 | tail -5
    ```
    Should exit 0.
  </verify>
  <done>
    `landing/index.html` has preconnect for both Google Fonts domains, the combined Google Fonts URL with `display=swap`, and the Material Symbols Outlined link. Body tag has correct Tailwind base classes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Replace App.tsx with design system demo component</name>
  <files>
    landing/src/App.tsx
  </files>
  <action>
    Replace the default Vite `App.tsx` with a demo component that exercises every design system primitive. This component is temporary scaffolding — Phase 5 will replace it with real sections. Its sole purpose is to prove the design system is wired up and visually correct.

    ```tsx
    function App() {
      return (
        <main className="min-h-screen p-12 space-y-12">

          {/* Typography: heading rotation + font-display */}
          <section>
            <h1 className="text-5xl">Design System Demo</h1>
            <h2 className="text-3xl mt-4">Zine / Punk Aesthetic</h2>
            <h3 className="text-2xl mt-4">Foundation Phase</h3>
            <p className="font-punk text-lg mt-4 border-l-4 border-primary pl-4">
              Special Elite paragraph text — font-punk applied via Tailwind.
            </p>
            <p className="font-body text-base mt-2 text-slate-600">
              Inter body text — font-body applied via Tailwind.
            </p>
          </section>

          {/* Primary color swatches */}
          <section className="flex gap-4 flex-wrap">
            <div className="bg-primary text-white px-6 py-4 font-punk font-bold">
              bg-primary #f56060
            </div>
            <div className="bg-background-light border-2 border-slate-900 px-6 py-4 font-punk">
              bg-background-light #f8f6f6
            </div>
            <div className="bg-slate-900 text-white px-6 py-4 font-punk">
              bg-slate-900 (dark base)
            </div>
          </section>

          {/* zine-box: border + dot-grid + shadow */}
          <section>
            <div className="zine-box bg-white p-8 max-w-sm">
              <p className="font-punk font-bold">.zine-box applied</p>
              <p className="text-sm mt-2">Border-2 slate-900 + 8px black shadow + dot-grid background</p>
            </div>
          </section>

          {/* paper-tear clip-path */}
          <section>
            <div className="paper-tear bg-primary text-white p-8 max-w-sm">
              <p className="font-display text-2xl uppercase">.paper-tear</p>
              <p className="font-punk text-sm mt-2">Polygon clip-path for torn edge effect</p>
            </div>
          </section>

          {/* Button with hover press effect */}
          <section>
            <button className="bg-primary text-white border-4 border-slate-900 px-10 py-6 text-2xl font-display shadow-[10px_10px_0px_0px_rgba(0,0,0,1)] hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all">
              Install Twelveify
            </button>
          </section>

          {/* Material Symbols icon */}
          <section className="flex items-center gap-4">
            <div className="bg-primary p-2 border-2 border-slate-900 rotate-[-4deg]">
              <span className="material-symbols-outlined text-white text-3xl">pedal_bike</span>
            </div>
            <span className="font-display text-3xl uppercase tracking-tighter">Twelveify</span>
          </section>

          {/* Zero border-radius verification */}
          <section className="flex gap-4 flex-wrap">
            <div className="bg-slate-200 border-2 border-slate-900 rounded-lg px-6 py-4 font-punk text-sm">
              rounded-lg → should be 0px (sharp corner)
            </div>
            <div className="bg-slate-200 border-2 border-slate-900 rounded-xl px-6 py-4 font-punk text-sm">
              rounded-xl → should be 0px (sharp corner)
            </div>
            <div className="bg-primary text-white border-2 border-slate-900 rounded-full px-6 py-4 font-punk text-sm">
              rounded-full → should be 9999px (pill shape)
            </div>
          </section>

        </main>
      )
    }

    export default App
    ```

    No additional imports needed beyond what Vite generates. The `material-symbols-outlined` class is available because the font is loaded in `index.html`.
  </action>
  <verify>
    Run `cd landing && npm run dev` and open `http://localhost:5173` in browser. Verify:
    - h1/h2/h3 headings appear in Permanent Marker font with slight rotation
    - Primary color swatches show correct red (#f56060)
    - `.zine-box` section shows dot-grid background with thick black border and offset shadow
    - `.paper-tear` section shows polygon clip-path cutting the bottom edge
    - Button has thick border and shadow, press effect on hover
    - Bike icon renders from Material Symbols
    - `rounded-lg` and `rounded-xl` divs have sharp (0px) corners, `rounded-full` is pill-shaped
  </verify>
  <done>
    `App.tsx` renders the design system demo at localhost:5173 with all design primitives visually correct: heading fonts, zine-box, paper-tear, primary color, 0px border-radius on non-full classes, Material Symbols icon, button press effect.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Visual verification of design system</name>
  <action>Human verifies the design system renders correctly in the browser. Run `cd landing && npm run dev` and open http://localhost:5173.</action>
  <what-built>
    Complete design system foundation:
    - Vite React TypeScript app in `landing/`
    - Tailwind configured with zine/punk theme (primary #f56060, 0px border-radius, 3 font families, dark mode class)
    - Base CSS: headings rotate -1deg, `.zine-box` dot-grid + shadow, `.paper-tear` polygon
    - Google Fonts (Permanent Marker, Special Elite, Inter) + Material Symbols loaded with preconnect + display=swap
    - Demo App.tsx showing all design primitives
  </what-built>
  <how-to-verify>
    1. Run `cd landing && npm run dev` — opens http://localhost:5173
    2. Verify headings use Permanent Marker font, appear rotated slightly
    3. Verify `.zine-box` section has visible dot-grid, thick border, offset black shadow
    4. Verify `.paper-tear` section has torn/irregular bottom edge
    5. Verify primary color is the correct red (#f56060), not orange or pink
    6. Verify `rounded-lg` and `rounded-xl` boxes have perfectly square corners
    7. Verify bike icon renders from Material Symbols Outlined font
    8. Reload the page — fonts should not cause layout shift (text in same position after fonts load)
    9. Open DevTools → Network → filter Fonts — confirm `Permanent+Marker`, `Special+Elite`, `Inter`, `Material+Symbols+Outlined` all load from Google Fonts
  </how-to-verify>
  <resume-signal>Type "approved" if everything looks correct, or describe any issues for Claude to fix.</resume-signal>
</task>

</tasks>

<verification>
1. `landing/index.html` has 2 preconnect links + Google Fonts URL with `display=swap` + Material Symbols link
2. `landing/src/App.tsx` renders demo with all design system primitives
3. `npm run build` in `landing/` exits 0
4. Visual verification: fonts, colors, border-radius, shadows, clip-paths all match design spec from `landing/code.html`
</verification>

<success_criteria>
- Fonts load via preconnect (two tags: googleapis.com + gstatic.com with crossorigin) and `display=swap`
- Material Symbols Outlined icons render correctly
- All 7 design system primitives are visually correct in the browser: Permanent Marker headings, Special Elite punk text, primary color, zine-box, paper-tear, 0px border-radius, button press effect
- Human verifies visual output matches zine/punk aesthetic from `landing/code.html`
</success_criteria>

<output>
After completion, create `.planning/phases/04-foundation/04-02-SUMMARY.md` with:
- Font loading strategy applied (preconnect URLs, display=swap)
- Visual verification outcome from checkpoint
- Design system components confirmed working
- Any issues found and fixed during checkpoint
</output>
