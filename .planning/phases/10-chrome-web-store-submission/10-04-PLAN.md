---
phase: 10-chrome-web-store-submission
plan: 04
type: execute
wave: 2
depends_on:
  - 10-01
  - 10-02
  - 10-03
files_modified:
  - store/SUBMISSION-CHECKLIST.md
autonomous: false

requirements:
  - STOR-05

must_haves:
  truths:
    - "Extension is submitted to Chrome Web Store for review"
    - "Store listing has title, summary, description, privacy policy URL, and screenshots uploaded"
    - "Extension ZIP includes icons at all 4 sizes"
    - "Manifest declares minimal required permissions (storage + specific host_permissions only)"
    - "Privacy policy URL https://twelvify.com/privacy is live and linked in the store listing"
  artifacts:
    - path: "store/SUBMISSION-CHECKLIST.md"
      provides: "Submission checklist documenting what was submitted"
  key_links:
    - from: "Chrome Developer Dashboard"
      to: "https://twelvify.com/privacy"
      via: "Privacy Policy URL field in store listing"
      pattern: "twelvify.com/privacy"

user_setup:
  - service: chrome-web-store
    why: "Extension submission requires a Chrome Developer account and a one-time $5 registration fee"
    env_vars: []
    dashboard_config:
      - task: "Ensure Chrome Developer account is registered"
        location: "https://chrome.google.com/webstore/devconsole — requires one-time $5 fee if not already registered"
      - task: "Verify twelvify.com/privacy is live (deployed via Vercel from Plan 01)"
        location: "Visit https://twelvify.com/privacy in browser before submission"
---

<objective>
Perform pre-submission validation, produce the extension ZIP, and walk the user through the Chrome Web Store submission with a detailed checklist. This plan requires human action for the actual submission steps on the Chrome Developer Dashboard.

Purpose: All prior plans have produced the required assets. This plan ensures everything is assembled correctly before submission and guides the user through the Chrome Developer Dashboard upload process.

Output: Extension ZIP ready for upload, a completed submission checklist (`store/SUBMISSION-CHECKLIST.md`), and the extension submitted to Chrome Web Store with review initiated.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@wxt.config.ts
@store/listing.md
@.planning/phases/10-chrome-web-store-submission/10-01-SUMMARY.md
@.planning/phases/10-chrome-web-store-submission/10-02-SUMMARY.md
@.planning/phases/10-chrome-web-store-submission/10-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Pre-submission validation and build ZIP</name>
  <files>
    store/SUBMISSION-CHECKLIST.md
  </files>
  <action>
Run a complete pre-submission validation and build the extension ZIP.

**Step 1 — Validate manifest permissions:**
```bash
cat .output/chrome-mv3/manifest.json | python3 -m json.tool
```

Confirm the manifest contains ONLY these permissions (no extras):
- `"permissions": ["storage"]` — justified: saves reading level preference locally
- `"host_permissions": ["https://twelvify-backend.onrender.com/*"]` — justified: content script calls simplification API

If `<all_urls>` appears in host_permissions, that is NOT acceptable for submission. Content scripts have `matches: ["<all_urls>"]` which is content script injection scope — this is separate from host_permissions and is normal for extensions that work on all sites. Verify: the content_scripts.matches field is `<all_urls>` (expected), while host_permissions only references the backend URL (must NOT be `<all_urls>`).

**Step 2 — Run production build:**
```bash
npm run build
```

Confirm:
- Build succeeds with no errors
- `.output/chrome-mv3/` directory has all required files
- Icons exist: `.output/chrome-mv3/assets/icons/icon16.png`, `icon32.png`, `icon48.png`, `icon128.png`

**Step 3 — Create extension ZIP:**
```bash
cd .output/chrome-mv3 && zip -r ../../store/twelvify-v1.2.0.zip . && cd ../..
ls -lh store/twelvify-v1.2.0.zip
```

Verify ZIP size is reasonable (typically 200KB-2MB for a small extension).

**Step 4 — Validate screenshots:**
```bash
# Run Playwright capture if PNGs don't already exist
node store/screenshots/capture.mjs 2>&1
ls -la store/screenshots/*.png
# Verify all 5 PNGs exist
python3 -c "
import os
pngs = [f for f in os.listdir('store/screenshots') if f.endswith('.png')]
print(f'Screenshots: {len(pngs)}/5 — {\"READY\" if len(pngs) == 5 else \"MISSING\"}')
for f in sorted(pngs): print(f'  {f}')
"
```

**Step 5 — Verify privacy policy is live:**
Check if the landing site has been deployed with the privacy page. If it hasn't been deployed since Plan 01, note this as a prerequisite.

```bash
curl -s -o /dev/null -w "%{http_code}" https://twelvify.com/privacy 2>/dev/null || echo "Cannot check — no network or not deployed yet"
```

If status is 404, the landing site needs to be deployed first. If it's 200, we're good to proceed.

**Step 6 — Write submission checklist:**
Create `store/SUBMISSION-CHECKLIST.md`:

```markdown
# Twelvify Chrome Web Store Submission Checklist

**Generated:** [current date]
**Extension version:** 1.2.0

## Pre-Submission Validation

- [ ] Extension builds successfully (`npm run build`)
- [ ] Manifest permissions: `storage` only (+ `host_permissions` for backend URL)
- [ ] No `<all_urls>` in host_permissions
- [ ] Icons: 16, 32, 48, 128px PNGs confirmed in build output
- [ ] Extension ZIP created: `store/twelvify-v1.2.0.zip`
- [ ] 5 screenshots at 1280x800px confirmed: `store/screenshots/*.png`
- [ ] Privacy policy live at https://twelvify.com/privacy (HTTP 200)
- [ ] Store listing copy ready: `store/listing.md`

## Store Listing Information

**Title:** Twelvify — Big words, simplified. AI text simplifier.
**Summary:** Highlight any confusing text, click the wand — AI rewrites it in plain English. Instantly.
**Privacy Policy URL:** https://twelvify.com/privacy
**Category:** Productivity
**Language:** English

## Chrome Developer Dashboard Steps

1. Go to https://chrome.google.com/webstore/devconsole
2. Click "New Item"
3. Upload ZIP: `store/twelvify-v1.2.0.zip`
4. Fill in "Store listing" tab:
   - Title: (copy from listing.md)
   - Summary: (copy from listing.md)
   - Description: (copy from listing.md)
   - Category: Productivity
   - Language: English
   - Upload 5 screenshots from store/screenshots/*.png (in order 1-5)
   - Upload 128px icon from src/assets/icons/icon128.png (for store listing icon)
5. Fill in "Privacy" tab:
   - Privacy Policy URL: https://twelvify.com/privacy
   - Single purpose: "Simplify selected text on any webpage using AI"
   - Data usage: User activity (text selection) — processed transiently, not stored
6. Fill in "Payments" tab:
   - Free
7. Click "Submit for review"

## Post-Submission Actions

- [ ] Monitor review status in Chrome Developer Dashboard (1-3 business days)
- [ ] After approval: Note the assigned extension ID (chrome-extension://[ID])
- [ ] After approval: Update Render env var ALLOWED_ORIGINS to include `chrome-extension://[assigned-ID]`
  See: STATE.md blocker note — current ALLOWED_ORIGINS is wildcard `*`
- [ ] After approval: Update CHROME_STORE_URL constant in landing/src/constants.ts with the actual store URL
- [ ] Publish within 30 days of approval (submissions revert to draft after 30 days)
```

Mark all pre-submission items as complete if validated in Steps 1-5.
  </action>
  <verify>
    ls store/twelvify-v1.2.0.zip && echo "ZIP exists"
    ls store/SUBMISSION-CHECKLIST.md && echo "Checklist exists"
    ls store/screenshots/*.png | wc -l
    # Expect: 5
    cat .output/chrome-mv3/manifest.json | python3 -c "import json,sys; m=json.load(sys.stdin); print('host_permissions:', m.get('host_permissions', [])); print('permissions:', m.get('permissions', []))"
    # Expect: host_permissions has only backend URL, permissions has only storage
  </verify>
  <done>
    `store/twelvify-v1.2.0.zip` exists and is a valid extension package. `store/SUBMISSION-CHECKLIST.md` is complete with all pre-submission items validated. 5 screenshot PNGs exist. Manifest permissions are minimal (storage + backend host only).
  </done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 2: Submit extension to Chrome Web Store</name>
  <action>Submit the extension to Chrome Web Store via the Chrome Developer Dashboard. Claude cannot automate this step — it requires browser UI interaction with a Google account.</action>
  <instructions>
Claude has produced all submission assets:
- Extension ZIP: `store/twelvify-v1.2.0.zip`
- Icons: 16, 32, 48, 128px PNGs at `src/assets/icons/`
- Screenshots: 5 PNGs at `store/screenshots/*.png` (1280x800px each)
- Store copy: `store/listing.md` (title, summary, description)
- Privacy policy: deployed at https://twelvify.com/privacy
- Submission checklist: `store/SUBMISSION-CHECKLIST.md`

**Step 1 — Verify privacy policy is live:**
Visit https://twelvify.com/privacy in your browser. If 404, push the Plan 01 landing changes to trigger Vercel deploy first:
```bash
git push origin main
```
Wait for Vercel deploy to complete, then confirm https://twelvify.com/privacy returns HTTP 200.

**Step 2 — Submit to Chrome Web Store:**
1. Go to https://chrome.google.com/webstore/devconsole
2. Sign in with your Google account (Chrome Developer registration required — $5 one-time fee if not yet registered)
3. Click "New Item"
4. Upload: `store/twelvify-v1.2.0.zip`
5. Fill in "Store listing" tab:
   - Title: "Twelvify — Big words, simplified. AI text simplifier."
   - Summary: "Highlight any confusing text, click the wand — AI rewrites it in plain English. Instantly."
   - Description: (copy full description block from store/listing.md)
   - Screenshots: upload all 5 PNGs from `store/screenshots/` in numbered order (1 through 5)
   - Store icon: upload `src/assets/icons/icon128.png`
   - Category: Productivity
   - Language: English
6. Fill in "Privacy" tab:
   - Privacy Policy URL: `https://twelvify.com/privacy`
   - Single purpose: "Simplify selected text on any webpage using AI"
   - Data usage: Select "User activity" — note text is processed transiently, not stored
7. Fill in "Payments" tab: Free
8. Click "Submit for review"

**Expected outcome:** Dashboard shows "Pending review" status. Review takes 1-3 business days.
  </instructions>
  <verification>
Chrome Developer Dashboard shows the extension submission status as "In review" or "Pending review". Note the extension ID from the dashboard URL for CORS update post-approval.
  </verification>
  <resume-signal>
Type "submitted" once the extension is submitted to Chrome Web Store for review. Include the extension ID if shown (format: chrome-extension://[20-char-ID]) so STATE.md can be updated with the CORS change needed post-approval.

Or type "blocked: [reason]" if you hit an issue (e.g., 404 on privacy page, dashboard error, missing Chrome Developer registration).
  </resume-signal>
</task>

</tasks>

<verification>
1. `ls store/twelvify-v1.2.0.zip` — ZIP exists
2. `ls store/screenshots/*.png | wc -l` — 5 screenshots
3. `cat store/SUBMISSION-CHECKLIST.md` — checklist present with all pre-submission items
4. User confirms submission via resume signal
5. Chrome Developer Dashboard shows extension in "Pending review" status
</verification>

<success_criteria>
- Extension ZIP `store/twelvify-v1.2.0.zip` built from clean production build
- Manifest permissions validated: storage + host_permissions for backend URL only
- All 5 screenshots at 1280x800px confirmed
- `store/SUBMISSION-CHECKLIST.md` documents submission state
- Extension submitted to Chrome Web Store (user confirms)
- Review initiated (1-3 business days)
- Post-submission actions documented for CORS update after approval
</success_criteria>

<output>
After completion, create `.planning/phases/10-chrome-web-store-submission/10-04-SUMMARY.md`

Update STATE.md:
- Phase: 10 complete (pending Chrome review)
- Blockers/Concerns: After Web Store approval — update ALLOWED_ORIGINS in Render env vars to chrome-extension://[assigned-ID], update CHROME_STORE_URL in landing/src/constants.ts
</output>
