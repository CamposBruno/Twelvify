---
phase: 08-ui-redesign
plan: 03
type: execute
wave: 2
depends_on:
  - 08-01
  - 08-02
files_modified: []
autonomous: false
requirements:
  - UIRD-05
  - UIRD-06

must_haves:
  truths:
    - "Floating button is visible and clickable on Gmail, YouTube, GitHub, Reddit, and Medium"
    - "Popup panel renders correctly when Google Fonts load (Permanent Marker title, Special Elite labels)"
    - "Popup panel renders legibly when fonts are unavailable (system font fallbacks apply)"
  artifacts:
    - path: "src/components/FloatingButton.tsx"
      provides: "Confirmed visible on high-complexity sites"
  key_links:
    - from: "FloatingButton z-index"
      to: "High-complexity site z-index stacking contexts"
      via: "z-index: 2147483647 overcomes page stacking contexts"
      pattern: "2147483647"
---

<objective>
Verify the complete Phase 8 UI redesign in a real browser: confirm the popup renders correctly with brand fonts and colors, and confirm the floating button is visible and functional on the five high-complexity test sites.

Purpose: Phase 8 cannot be complete without human verification of font rendering and cross-site z-index behavior — these cannot be validated via build output alone.
Output: Human-confirmed that all UIRD requirements are visually and functionally met.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-ui-redesign/08-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build extension for testing</name>
  <files></files>
  <action>
Run the development build to produce a loadable extension:

```bash
cd /Users/brunocampos/Twelvify && npx wxt build
```

If build fails, report the error. Do not proceed to checkpoint until build succeeds.

After a successful build, report the output directory (typically `.output/chrome-mv3/`).
  </action>
  <verify>Build exits with code 0. No TypeScript errors in output. Extension files present in `.output/chrome-mv3/` directory.</verify>
  <done>Build succeeds with zero errors. Extension ready for manual load in Chrome.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Human visual verification — popup brand aesthetic and cross-site floating button</name>
  <what-built>
Complete Phase 8 UI redesign:
- Plan 01: Popup panel brand styling (Permanent Marker title, Special Elite labels, red buttons, off-white grid background, Google Fonts in HTML)
- Plan 02: Floating button brand styling (red #f56060, wand icon, sharp corners), FloatingPopup and ErrorTooltip brand treatment
  </what-built>
  <how-to-verify>
**Load the extension in Chrome:**
1. Open Chrome → `chrome://extensions/` → Enable "Developer mode" (top-right toggle)
2. Click "Load unpacked" → Select `/Users/brunocampos/Twelvify/.output/chrome-mv3/`
3. If the extension is already loaded, click the reload button (circular arrow)

**Test the popup panel (UIRD-01, UIRD-02, UIRD-03, UIRD-06):**
4. Click the Twelvify extension icon in the Chrome toolbar to open the popup
5. Verify:
   - Background is warm off-white (not pure white) with subtle dotted grid pattern
   - Title "Twelveify" renders in handwritten/brush font (Permanent Marker) with slight rotation
   - Wand icon appears next to the title in red
   - Section labels ("Age Level", "Explanation Depth", etc.) are in typewriter-style font (Special Elite)
   - Tone selector buttons (Baby, 5, 12, 18, Big Boy) are sharp-edged rectangles, NOT pill/rounded shapes
   - Clicking a tone button: selected button turns red with white text, unselected stay light gray
   - No heavy textures, no dramatic rotations on controls, overall feels clean not chaotic

**Test font fallback (UIRD-06) — optional offline test:**
6. (Optional) Go to `chrome://net-internals/#dns` → Flush DNS. Or simply note whether system fonts display legibly if custom fonts haven't loaded yet (open popup quickly right after loading extension)

**Test floating button on complex sites (UIRD-04, UIRD-05):**
7. Navigate to **Gmail** (mail.google.com) → Select any text in an email → Verify: red floating button appears at bottom-right, is clickable, not hidden behind Gmail UI
8. Navigate to **YouTube** (youtube.com) → Select any text on the page → Verify: red floating button appears, is not hidden behind YouTube controls
9. Navigate to **GitHub** (github.com) → Open any repository → Select text in README → Verify: red floating button visible
10. Navigate to **Reddit** (reddit.com) → Select text in a post → Verify: button visible and clickable
11. Navigate to **Medium** (medium.com) → Select text in an article → Verify: button visible

**For each site, confirm:**
- Button color is red (not indigo/purple from old version)
- Button has sharp/square corners (no rounded pill shape)
- Button shows wand icon + simplified label text
- Undo button (green) appears after a simplification

**What good looks like:**
- Popup has clear brand identity matching the landing page's rough/punk aesthetic (toned down — not extreme)
- Floating button is confidently visible, red, and sharp
- No z-index issues on any test site
  </how-to-verify>
  <action>Load the extension in Chrome (chrome://extensions → Developer mode → Load unpacked → .output/chrome-mv3/). Open popup and test the 5 sites listed in how-to-verify above. Report findings.</action>
  <verify>Popup shows Permanent Marker title, Special Elite labels, red buttons, off-white grid background. Floating button visible on Gmail, YouTube, GitHub, Reddit, and Medium without z-index conflicts.</verify>
  <done>User types "approved" after confirming all visual checks pass.</done>
  <resume-signal>Type "approved" if everything looks correct, or describe any visual issues to fix</resume-signal>
</task>

</tasks>

<verification>
Human confirms:
1. Popup renders with Permanent Marker title, Special Elite labels, red active buttons, off-white grid background
2. Floating button is red with wand icon and sharp corners
3. Button visible on all 5 test sites: Gmail, YouTube, GitHub, Reddit, Medium
4. Font fallback renders legibly (no broken layout if fonts unavailable)
</verification>

<success_criteria>
- User types "approved" after visual inspection
- All 5 test sites show floating button without z-index conflicts
- Popup brand aesthetic matches the toned-down zine/punk intent described in CONTEXT.md
</success_criteria>

<output>
After completion, create `.planning/phases/08-ui-redesign/08-03-SUMMARY.md`
</output>
